/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#include <stddef.h>
#include <stdint.h>
#include <stdbool.h>
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
/* 俄罗斯方块基本图元 */
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static const bool TetrisGraph_1[1][2][2] = {
    {   {1,1},
        {1,1},  },
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static const bool TetrisGraph_2[4][3][3] = {
    {   {1,1,1},
        {0,1,0},
        {0,0,0},    },
        /* * */
    {   {0,0,1},
        {0,1,1},
        {0,0,1},    },
        /* * */
    {   {0,0,0},
        {0,1,0},
        {1,1,1},    },
        /* * */
    {   {1,0,0},
        {1,1,0},
        {1,0,0},    },
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static const bool TetrisGraph_3[2][3][3] = {
    {   {1,1,0},
        {0,1,1},
        {0,0,0},    },
        /* * */
    {   {0,0,1},
        {0,1,1},
        {0,1,0},    },
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static const bool TetrisGraph_4[2][3][3] = {
    {   {0,1,1},
        {1,1,0},
        {0,0,0},    },
        /* * */
    {   {1,0,0},
        {1,1,0},
        {0,1,0},    },
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static const bool TetrisGraph_5[4][3][3] = {
    {   {0,1,1},
        {0,0,1},
        {0,0,1},    },
        /* * */
    {   {0,0,0},
        {0,0,1},
        {1,1,1},    },
        /* * */
    {   {1,0,0},
        {1,0,0},
        {1,1,0},    },
        /* * */
    {   {1,1,1},
        {1,0,0},
        {0,0,0},    },
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static const bool TetrisGraph_6[4][3][3] = {
    {   {1,1,0},
        {1,0,0},
        {1,0,0},    },
        /* * */
    {   {1,1,1},
        {0,0,1},
        {0,0,0},    },
        /* * */
    {   {0,0,1},
        {0,0,1},
        {0,1,1},    },
        /* * */
    {   {0,0,0},
        {1,0,0},
        {1,1,1},    },
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static const bool TetrisGraph_7[4][4][4] = {
    {   {0,0,0,0},
        {1,1,1,1},
        {0,0,0,0},
        {0,0,0,0},    },
        /* * * */
    {   {0,0,1,0},
        {0,0,1,0},
        {0,0,1,0},
        {0,0,1,0},    },
        /* * * */
    {   {0,0,0,0},
        {0,0,0,0},
        {1,1,1,1},
        {0,0,0,0},    },
        /* * * */
    {   {0,1,0,0},
        {0,1,0,0},
        {0,1,0,0},
        {0,1,0,0},    },
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
typedef struct TetrisGraphDescriptor {
    uint32_t Wheel; /* 基本图元轮数 */
    uint32_t Scale; /* 基本图元阶数 */
    bool   *Graph;  /* 基本图元实体 */
} TetrisGraph;
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
/* 俄罗斯方块基本图元集合 */
static const TetrisGraph TetrisGraphSet[] = {
    {1, 2, (bool *)TetrisGraph_1},  /* "O" */
    {4, 3, (bool *)TetrisGraph_2},  /* "T" */
    {2, 3, (bool *)TetrisGraph_3},  /* "S" */
    {2, 3, (bool *)TetrisGraph_4},  /* "S" */
    {4, 3, (bool *)TetrisGraph_5},  /* "L" */
    {4, 3, (bool *)TetrisGraph_6},  /* "L" */
    {4, 4, (bool *)TetrisGraph_7},  /* "I" */
};
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#define TetrisGraphNumber   (sizeof(TetrisGraphSet) / sizeof(TetrisGraphSet[0]))
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
uint32_t TetrisGraph_GetNumber(void)
{
    return TetrisGraphNumber;
}
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
uint32_t TetrisGraph_GetWheel(uint32_t Type)
{
    return TetrisGraphSet[Type % TetrisGraphNumber].Wheel;
}
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
uint32_t TetrisGraph_GetScale(uint32_t Type)
{
    return TetrisGraphSet[Type % TetrisGraphNumber].Scale;
}
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
bool *   TetrisGraph_GetGraph(uint32_t Type, uint32_t Wheel)
{
    return &TetrisGraphSet[Type % TetrisGraphNumber].Graph[
            TetrisGraphSet[Type % TetrisGraphNumber].Scale *
            TetrisGraphSet[Type % TetrisGraphNumber].Scale * (Wheel %
            TetrisGraphSet[Type % TetrisGraphNumber].Wheel)];
}
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
