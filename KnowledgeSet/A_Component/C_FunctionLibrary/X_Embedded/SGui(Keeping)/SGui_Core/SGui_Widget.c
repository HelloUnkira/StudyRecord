#include "SGui_Kernel.h"
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
/* 实现目标:
 * 这是所有派生类(如窗口,按钮等等)的共生基类
 * 精简的集合出所有派生类的全部通性以及一些简化逻辑
 */
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
SGui_Handle SGui_WidgetGetAncestor(SGui_Handle HandleW)
{
    SGuiWidget *Widget = NULL;
    
    /* 当前控件无效 */
    if ((Widget = SGui_HandleSourceGet(HandleW)) == NULL)
        return SGUI_HANDLE_INVALID;
    
    SGui_Handle HandleP = Widget->Parent;
    /* 迭代直到找不到寻找父控件,自己控件为祖先控件 */
    while (SGui_HandleSourceGet(HandleP) != NULL) {
        HandleW = (Widget = SGui_HandleSourceGet(HandleW))->Parent;
        HandleP = (Widget = SGui_HandleSourceGet(HandleW))->Parent;
    }
    
    return HandleW;
}
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/

/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
