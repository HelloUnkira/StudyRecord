#ifndef SPIN_LOCK_H
#define SPIN_LOCK_H
//C std lib
#include <stddef.h>
#include <stdint.h>
#include <stdbool.h>
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#include "AtomicLock.h"
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#define SpinLock    AtomicValue
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static inline bool Spin_Lock(SpinLock *Lock)
{
    return Atomic_CC(Lock, 0, 1);
}
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
static inline void Spin_Unlock(SpinLock *Lock)
{
    Atomic_CC(Lock, 1, 0);
}
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#endif
