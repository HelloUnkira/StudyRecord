#ifndef TLSF_STRATEGY_H
#define TLSF_STRATEGY_H
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
/* 该实现参考于lvgl\src\misc\lv_tlsf */
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#include <stdint.h>
#include <stdbool.h>
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#if 1
/* 内部使用的裁剪宏策略 */
/* 及时关注该信息有助于找到内存泄漏和溢出问题 */
#include <stdio.h>
#define TLSF_Visit                          printf
#define TLSF_Print(File, Line, Express)     printf("Error:[%s][%d][%s]\n", File, Line, Express)
#define TLSF_Check(Express)                 if (!(Express)) TLSF_Print(__FILE__, __LINE__, #Express)
#else
#define TLSF_Visit
#define TLSF_Check(Express)
#endif
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
void TLSF_LayoutCheck(uintptr_t TLSF);
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
uintptr_t TLSF_Init(void *Memory, uintptr_t Size);
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
void * TLSF_Alloc(uintptr_t TLSF, uintptr_t Size);
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
void TLSF_Free(uintptr_t TLSF, void *Pointer);
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
void * TLSF_ReAlloc(uintptr_t TLSF, void *Pointer, uintptr_t Size);
/*************************************************************************************************/
/*************************************************************************************************/
/*************************************************************************************************/
#endif
